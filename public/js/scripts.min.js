/*! application-name ~ 2014-02-22 */
function main(){moreDetailsControl(),filters()}function filters(){$(".text-filter").on("input",function(){filterDomains()}),$(".domain-filter").change(function(){filterDomains()}),$(".sort-filter").change(function(){sortDomains()})}function sortDomains(){var a=$(".sort-filter").val();$("main").find("li").tsort({order:a})}function filterDomains(){var a=$(".domain-filter").val(),b=$(".text-filter").val();b=b.trim().replace(/\s+/g,"").toLowerCase().replace(".",""),$("main").find("li").show(),$("main").find("li").each(function(){var c=$(this).find("h1").html();if("none"!=a){var d=-1==c.indexOf(a);d&&$(this).hide()}var e=-1==c.replace(".","").indexOf(b);e&&$(this).hide()});var c=0;$("main").find("li").each(function(){$(this).is(":visible")&&c++}),0==c?($(".amount").html("Try a different filter?"),$(".big-error").addClass("big-error-shown")):($(".amount").html(c+" domains returned!"),$(".big-error").removeClass("big-error-shown"))}function moreDetailsControl(){$("main").find("li").click(function(){var a=$(this).text().trim(),b=a.replace(".",'<span class="fullstop">.</span>');$(".availability").hide(),$(".suffix").hide(),$(".errors").hide(),$(".loading").show(),$(".more-detail").find("h1").html(b),$(".more-detail-shown").removeClass("more-detail-shown"),$("main").find("li").removeClass("current"),domainrCheck(a),$(this).addClass("current"),$("header").addClass("header-hidden"),$(".more-detail").addClass("more-detail-shown")}),$(".more-detail").find(".close").click(function(){$("header").removeClass("header-hidden"),$(".more-detail").removeClass("more-detail-shown"),$(".current").removeClass("current")})}function domainrCheck(a){var b="http://www.domai.nr/api/json/info?callback=getDomainrData&q="+a+"&client_id=dandydomains",c=5,d=$.ajax({url:b,dataType:"script",timeout:1e3*c});d.fail(function(){console.log("Fail: "+d.status),$("main").find(".current").addClass("dead-item"),$(".loading").hide(),$(".errors").show(),$(".errors").html("Ahh shit, it's broken."),setTimeout(function(){$(".errors").html('Ahh shit, it\'s broken. <a href="http://domai.nr/">Domainr</a> is failing to return anything on this domain.')},2e3),setTimeout(function(){$(".errors").html('Ahh shit, it\'s broken. <a href="http://domai.nr/">Domainr</a> is failing to return anything on this domain. Sorry!')},5e3)})}function getDomainrData(a){var b=a.availability,c=b,d=a.domain,e=["",""];("available"==b||"maybe"==b||"unknown"==b)&&(e[0]='<a title="Register this domain!" href="http://www.domai.nr/'+d+'">',e[1]="</a>");var f=e[0]+d.replace(".",'<span class="'+b+'">.</span>')+e[1],g="."+a.tld.domain,h=(d.replace(".",""),a.tld.wikipedia_url),i="This domain is "+e[0]+'<span class="'+b+'">'+c+"</span>"+e[1]+".",j='<a class="suffix" href="'+h+'">Read more about the <span>"'+g+'"</span> suffix.</a>';$("more-detail").addClass(b),$(".loading").hide(),$(".more-detail").find("h1").html(f),$(".availability").html(i).show(),$(".suffix").html(j).show(),$("main").find(".current").addClass(b+"-item")}function capitaliseString(a){return a.charAt(0).toUpperCase()+a.slice(1)}!function(){main()}();
//# sourceMappingURL=scripts.map.js